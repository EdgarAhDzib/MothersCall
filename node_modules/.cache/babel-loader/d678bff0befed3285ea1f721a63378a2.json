{"remainingRequest":"/home/pi/MothersCall/node_modules/thread-loader/dist/cjs.js!/home/pi/MothersCall/node_modules/babel-loader/lib/index.js!/home/pi/MothersCall/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pi/MothersCall/src/views/Maincomp.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pi/MothersCall/src/views/Maincomp.vue","mtime":1533504470159},{"path":"/home/pi/MothersCall/node_modules/cache-loader/dist/cjs.js","mtime":1530586025002},{"path":"/home/pi/MothersCall/node_modules/thread-loader/dist/cjs.js","mtime":1530586033202},{"path":"/home/pi/MothersCall/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/pi/MothersCall/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport AddItem from \"../components/AddItem.vue\";\nimport UpdateItem from \"../components/UpdateItem.vue\";\nimport Menu from \"../components/Menu.vue\";\nexport default {\n  components: {\n    \"menu-div\": Menu,\n    \"add-item\": AddItem,\n    \"update-item\": UpdateItem\n  },\n  name: \"mainVue\",\n  created: function created() {\n    var _this = this;\n\n    axios.get('http://127.0.0.1:8000/motherscnotes/view/' + this.category + '/').then(function (response) {\n      // console.log(response);\n      _this.elements = response.data;\n    });\n    axios.get('http://127.0.0.1:8000/motherscnotes/getfields/' + this.category + '/').then(function (response) {\n      // console.log(response.data);\n      _this.subjFields = response.data;\n    });\n  },\n  data: function data() {\n    return {\n      elements: [],\n      item: {\n        item: \"\",\n        categFields: {},\n        notes: \"\"\n      },\n      category: \"fauna\",\n      title: \"Fauna\",\n      addForm: true,\n      updateForm: false,\n      subjFields: []\n    };\n  },\n  methods: {\n    review: function review(event) {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:8000/motherscnotes/get/' + this.category + '/' + event.currentTarget.id).then(function (response) {\n        _this2.addForm = false;\n        _this2.updateForm = true; // Reset item and all its field, to prevent passing fields from previous item's model\n\n        _this2.item = {\n          item: \"\",\n          categFields: {},\n          notes: \"\"\n        };\n\n        for (var property in response.data) {\n          if (property == \"id\") {\n            _this2.item.id = response.data[property];\n          } else {\n            _this2.item.categFields[property] = response.data[property];\n          }\n        }\n\n        _this2.item.compCateg = _this2.category;\n      });\n    },\n    delItem: function delItem(event) {\n      var _this3 = this;\n\n      var conf = confirm(\"Delete this entry?\");\n\n      if (conf) {\n        axios.delete('http://127.0.0.1:8000/motherscnotes/delete/' + this.category + '/' + event.currentTarget.id).then(function (response) {\n          // console.log(response);\n          _this3.refresh(_this3.category);\n        });\n      } else {\n        return false;\n      }\n    },\n    showTitle: function showTitle(categTitle) {\n      var _this4 = this;\n\n      this.title = categTitle;\n      var newCateg = categTitle.toLowerCase();\n      this.category = newCateg;\n      axios.get('http://127.0.0.1:8000/motherscnotes/view/' + this.category + '/').then(function (response) {\n        // console.log(response);\n        _this4.elements = response.data;\n      });\n      axios.get('http://127.0.0.1:8000/motherscnotes/getfields/' + this.category + '/').then(function (response) {\n        // console.log(response.data);\n        _this4.addForm = true;\n        _this4.updateForm = false;\n        _this4.subjFields = response.data;\n      });\n    },\n    refresh: function refresh(menuCateg) {\n      this.showTitle(menuCateg);\n      this.item = {\n        id: \"\",\n        categFields: {},\n        notes: \"\"\n      }, this.addForm = true;\n      this.updateForm = false;\n      this.subjFields = [];\n    }\n  }\n};",{"version":3,"sources":["Maincomp.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"displayDiv\">\n\t<div><menu-div v-on:selectedCateg=\"showTitle\"></menu-div></div>\n    <h1>Mother's Call {{title}}</h1>\n    <div style=\"float:left;width:30%;\">\n\t\t<table>\n\t\t<tbody v-for=\"element in elements\" :key=\"element.id\">\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\t<h4>{{element.name}}</h4>\n\t\t\t\t</td>\n\t\t\t\t<td><em>{{element.indigenous}}</em></td>\n\t\t\t\t<td v-bind:id=\"element.id\" @click=\"review($event)\"><a href=\"#formTop\">Edit</a></td>\n\t\t\t\t<td v-bind:id=\"element.id\" @click=\"delItem($event)\">Delete</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t\t</table>\n    </div>\n    <div class=\"itemFormDiv\" style=\"float:left;width:70%;\">\n\t\t<a id=\"formTop\">\n\t\t\t<add-item v-if=\"addForm\" v-bind:subjFields=\"subjFields\" v-bind:compCateg=\"category\" v-on:refreshCateg=\"refresh\"></add-item>\n\t\t\t<update-item v-if=\"updateForm\" :key=\"item.id\" v-bind:item=\"item\" v-bind:compCateg=\"category\" v-bind:itemNum=\"item.id\" v-on:refreshCateg=\"refresh\"></update-item>\n\t\t</a>\n    </div>\n  </div>\n</template>\n<script>\n\timport axios from 'axios';\n\timport AddItem from \"../components/AddItem.vue\";\n\timport UpdateItem from \"../components/UpdateItem.vue\";\n\timport Menu from \"../components/Menu.vue\";\n\texport default {\n\t\tcomponents: {\n\t\t\t\"menu-div\": Menu,\n\t\t\t\"add-item\": AddItem,\n\t\t\t\"update-item\": UpdateItem,\n\t\t},\n\t\tname: \"mainVue\",\n\t\tcreated(){\n\t\t\taxios.get('http://127.0.0.1:8000/motherscnotes/view/' + this.category + '/')\n\t\t\t.then((response) => {\n\t\t\t\t// console.log(response);\n\t\t\t\tthis.elements = response.data;\n\t\t\t});\n\t\t\taxios.get('http://127.0.0.1:8000/motherscnotes/getfields/' + this.category + '/')\n\t\t\t.then((response) => {\n\t\t\t\t// console.log(response.data);\n\t\t\t\tthis.subjFields = response.data;\n\t\t\t});\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\telements: [],\n\t\t\t\titem: {\n\t\t\t\t\titem: \"\",\n\t\t\t\t\tcategFields: {},\n\t\t\t\t\tnotes: \"\",\n\t\t\t\t},\n\t\t\t\tcategory: \"fauna\",\n\t\t\t\ttitle: \"Fauna\",\n\t\t\t\taddForm: true,\n\t\t\t\tupdateForm: false,\n\t\t\t\tsubjFields: [],\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\treview: function(event){\n\t\t\t\taxios.get('http://127.0.0.1:8000/motherscnotes/get/' + this.category+ '/' + event.currentTarget.id)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.addForm = false;\n\t\t\t\t\tthis.updateForm = true;\n\t\t\t\t\t// Reset item and all its field, to prevent passing fields from previous item's model\n\t\t\t\t\tthis.item = {\n\t\t\t\t\t\titem: \"\",\n\t\t\t\t\t\tcategFields: {},\n\t\t\t\t\t\tnotes: \"\",\n\t\t\t\t\t};\n\t\t\t\t\tfor (var property in response.data) {\n\t\t\t\t\t\tif (property == \"id\") {\n\t\t\t\t\t\t\tthis.item.id = response.data[property];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.item.categFields[property] = response.data[property];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.item.compCateg = this.category;\n\t\t\t\t});\n\t\t\t},\n\t\t\tdelItem: function(event){\n\t\t\t\tvar conf = confirm(\"Delete this entry?\");\n\t\t\t\tif (conf) {\n\t\t\t\t\taxios.delete('http://127.0.0.1:8000/motherscnotes/delete/' + this.category + '/' + event.currentTarget.id)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t// console.log(response);\n\t\t\t\t\t\tthis.refresh(this.category);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowTitle: function(categTitle){\n\t\t\t\tthis.title = categTitle;\n\t\t\t\tvar newCateg = categTitle.toLowerCase();\n\t\t\t\tthis.category = newCateg;\n\t\t\t\taxios.get('http://127.0.0.1:8000/motherscnotes/view/' + this.category + '/')\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\tthis.elements = response.data;\n\t\t\t\t});\n\t\t\t\taxios.get('http://127.0.0.1:8000/motherscnotes/getfields/' + this.category + '/')\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(response.data);\n\t\t\t\t\tthis.addForm = true;\n\t\t\t\t\tthis.updateForm = false;\n\t\t\t\t\tthis.subjFields = response.data;\n\t\t\t\t});\n\t\t\t},\n\t\t\trefresh: function(menuCateg){\n\t\t\t\tthis.showTitle(menuCateg);\n\t\t\t\tthis.item = {\n\t\t\t\t\tid: \"\",\n\t\t\t\t\tcategFields: {},\n\t\t\t\t\tnotes: \"\",\n\t\t\t\t},\n\t\t\t\tthis.addForm = true;\n\t\t\t\tthis.updateForm = false;\n\t\t\t\tthis.subjFields = [];\n\t\t\t},\n\t\t}\n\t}\n</script>\n"],"sourceRoot":"src/views"}]}