{"remainingRequest":"/home/pi/MothersCall/mother_vue/node_modules/babel-loader/lib/index.js!/home/pi/MothersCall/mother_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pi/MothersCall/mother_vue/src/components/ItemForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pi/MothersCall/mother_vue/src/components/ItemForm.vue","mtime":1533001248603},{"path":"/home/pi/MothersCall/mother_vue/node_modules/cache-loader/dist/cjs.js","mtime":1530586025002},{"path":"/home/pi/MothersCall/mother_vue/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/pi/MothersCall/mother_vue/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport InputField from './InputField.vue';\nexport default {\n  components: {\n    \"input-field\": InputField\n  },\n  name: \"item_form\",\n  props: {\n    item: {\n      type: Object\n    },\n    compCateg: {\n      type: String\n    }\n  },\n  mounted: function mounted() {\n    console.log(\"Mounted\");\n    console.log(this.item);\n  },\n  beforeUpdate: function beforeUpdate() {\n    console.log(\"Before update\");\n    console.log(this.item);\n  },\n  updated: function updated() {\n    console.log(\"Updated\");\n    console.log(this.item);\n    console.log(this.item.categFields);\n    console.log(this.compCateg);\n    this.setInputFields();\n  },\n  watch: {\n    item: {\n      deep: true,\n      handler: function handler(vals) {\n        console.log(\"WATCH!\");\n      }\n    }\n  },\n  data: function data() {\n    return {\n      title: \"Display Info\",\n      update: false,\n      formValues: {}\n    };\n  },\n  methods: {\n    updateItem: function updateItem() {\n      var _this = this;\n\n      this.formValues['id'] = this.item.id;\n      this.formValues['notes'] = this.item.notes;\n      var router = this.$router;\n      axios.post('http://127.0.0.1:8000/motherscnotes/post/' + this.compCateg + '/' + this.formValues.id, this.formValues).then(function (response) {\n        // console.log(response);\n        if (response.statusText == \"OK\") {\n          // Refresh and hide form\n          console.log(\"Update\");\n          console.log(response.data);\n\n          _this.resetFields();\n\n          router.push(\"/\");\n        } else {\n          console.log(\"error\");\n          console.log(response.data);\n          alert(\"Error in post\");\n        }\n      });\n    },\n    addItem: function addItem() {\n      var _this2 = this;\n\n      this.formValues['notes'] = this.item.notes;\n      var router = this.$router;\n      axios.post('http://127.0.0.1:8000/motherscnotes/add/' + this.compCateg + '/', this.formValues).then(function (response) {\n        // console.log(response);\n        if (response.statusText == \"Created\") {\n          // Refresh and hide form\n          console.log(\"Created\");\n          console.log(response.data);\n\n          _this2.resetFields();\n\n          router.push(\"/\");\n        } else {\n          console.log(\"error\");\n          console.log(response.data);\n          alert(\"Error in post\");\n        }\n      });\n    },\n    resetFields: function resetFields() {\n      return {};\n    },\n    getValues: function getValues(data) {\n      // console.log(\"Passed to parent\", data);\n      var property = data[0];\n      var value = data[1];\n      this.formValues[property] = value; // console.log(this.formValues);\n    },\n    setInputFields: function setInputFields() {\n      console.log(\"Called from update\");\n    }\n  }\n};",{"version":3,"sources":["ItemForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,UAAA,MAAA,kBAAA;AACA,eAAA;AACA,cAAA;AACA,mBAAA;AADA,GADA;AAIA,QAAA,WAJA;AAKA,SAAA;AACA,UAAA;AACA,YAAA;AADA,KADA;AAIA,eAAA;AACA,YAAA;AADA;AAJA,GALA;AAaA,SAbA,qBAaA;AACA,YAAA,GAAA,CAAA,SAAA;AACA,YAAA,GAAA,CAAA,KAAA,IAAA;AACA,GAhBA;AAiBA,cAjBA,0BAiBA;AACA,YAAA,GAAA,CAAA,eAAA;AACA,YAAA,GAAA,CAAA,KAAA,IAAA;AACA,GApBA;AAqBA,SArBA,qBAqBA;AACA,YAAA,GAAA,CAAA,SAAA;AACA,YAAA,GAAA,CAAA,KAAA,IAAA;AACA,YAAA,GAAA,CAAA,KAAA,IAAA,CAAA,WAAA;AACA,YAAA,GAAA,CAAA,KAAA,SAAA;AACA,SAAA,cAAA;AACA,GA3BA;AA4BA,SAAA;AACA,UAAA;AACA,YAAA,IADA;AAEA,aAFA,mBAEA,IAFA,EAEA;AACA,gBAAA,GAAA,CAAA,QAAA;AACA;AAJA;AADA,GA5BA;AAoCA,MApCA,kBAoCA;AACA,WAAA;AACA,aAAA,cADA;AAEA,cAAA,KAFA;AAGA,kBAAA;AAHA,KAAA;AAKA,GA1CA;AA2CA,WAAA;AACA,cADA,wBACA;AAAA;;AACA,WAAA,UAAA,CAAA,IAAA,IAAA,KAAA,IAAA,CAAA,EAAA;AACA,WAAA,UAAA,CAAA,OAAA,IAAA,KAAA,IAAA,CAAA,KAAA;AACA,UAAA,SAAA,KAAA,OAAA;AACA,YAAA,IAAA,CAAA,8CAAA,KAAA,SAAA,GAAA,GAAA,GAAA,KAAA,UAAA,CAAA,EAAA,EAAA,KAAA,UAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,SAAA,UAAA,IAAA,IAAA,EAAA;AACA;AACA,kBAAA,GAAA,CAAA,QAAA;AACA,kBAAA,GAAA,CAAA,SAAA,IAAA;;AACA,gBAAA,WAAA;;AACA,iBAAA,IAAA,CAAA,GAAA;AACA,SANA,MAMA;AACA,kBAAA,GAAA,CAAA,OAAA;AACA,kBAAA,GAAA,CAAA,SAAA,IAAA;AACA,gBAAA,eAAA;AACA;AACA,OAdA;AAeA,KApBA;AAqBA,WArBA,qBAqBA;AAAA;;AACA,WAAA,UAAA,CAAA,OAAA,IAAA,KAAA,IAAA,CAAA,KAAA;AACA,UAAA,SAAA,KAAA,OAAA;AACA,YAAA,IAAA,CAAA,6CAAA,KAAA,SAAA,GAAA,GAAA,EAAA,KAAA,UAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,SAAA,UAAA,IAAA,SAAA,EAAA;AACA;AACA,kBAAA,GAAA,CAAA,SAAA;AACA,kBAAA,GAAA,CAAA,SAAA,IAAA;;AACA,iBAAA,WAAA;;AACA,iBAAA,IAAA,CAAA,GAAA;AACA,SANA,MAMA;AACA,kBAAA,GAAA,CAAA,OAAA;AACA,kBAAA,GAAA,CAAA,SAAA,IAAA;AACA,gBAAA,eAAA;AACA;AACA,OAdA;AAeA,KAvCA;AAwCA,eAxCA,yBAwCA;AACA,aAAA,EAAA;AAEA,KA3CA;AA4CA,aA5CA,qBA4CA,IA5CA,EA4CA;AACA;AACA,UAAA,WAAA,KAAA,CAAA,CAAA;AACA,UAAA,QAAA,KAAA,CAAA,CAAA;AACA,WAAA,UAAA,CAAA,QAAA,IAAA,KAAA,CAJA,CAKA;AACA,KAlDA;AAmDA,kBAnDA,4BAmDA;AACA,cAAA,GAAA,CAAA,oBAAA;AACA;AArDA;AA3CA,CAAA","sourcesContent":["<template>\n    <div class=\"itemCRUD\">\n\t\t<div style=\"margin:auto; width:50%;\">\n\t\t<h2>{{title}}</h2>\n\t\t<form>\n\t\t\t<table>\n\t\t\t\t<input-field v-for=\"(categ,inc) in item.categFields\" v-if=\"categ != 'id' && categ != 'notes'\" v-bind:inpVal=\"item[categ]\" v-bind:categ=\"categ\" v-on:inputData=\"getValues\" :key=\"inc\"></input-field>\n\t\t\t</table>\n\t\t\t<table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Additional notes</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<textarea name=\"notes\" rows=\"6\" cols=\"50\" v-model=\"item.notes\"></textarea>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"id\" v-model=\"item.id\"/>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td></td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<button v-if=\"item.update\" @click.prevent=\"updateItem\" type=\"button\" name=\"button\">UPDATE</button>\n\t\t\t\t\t\t<button v-else=\"item.update\" @click.prevent=\"addItem\" type=\"button\" name=\"button\">ADD</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</form>\n\t\t</div>\n    </div>\n</template>\n<script>\n\timport axios from 'axios'\n\timport InputField from './InputField.vue'\n\texport default {\n\t\tcomponents: {\n\t\t\t\"input-field\": InputField\n\t\t},\n\t\tname: \"item_form\",\n\t\tprops: {\n\t\t\titem:{\n\t\t\t\ttype: Object\n\t\t\t},\n\t\t\tcompCateg:{\n\t\t\t\ttype: String\n\t\t\t},\n\t\t},\n\t\tmounted(){\n\t\t\tconsole.log(\"Mounted\");\n\t\t\tconsole.log(this.item);\n\t\t},\n\t\tbeforeUpdate(){\n\t\t\tconsole.log(\"Before update\");\n\t\t\tconsole.log(this.item);\n\t\t},\n\t\tupdated(){\n\t\t\tconsole.log(\"Updated\");\n\t\t\tconsole.log(this.item);\n\t\t\tconsole.log(this.item.categFields);\n\t\t\tconsole.log(this.compCateg);\n\t\t\tthis.setInputFields();\n\t\t},\n\t\twatch: {\n\t\t\titem:{\n\t\t\t\tdeep:true,\n\t\t\t\thandler(vals) {\n\t\t\t\t\tconsole.log(\"WATCH!\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: \"Display Info\",\n\t\t\t\tupdate: false,\n\t\t\t\tformValues: {},\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdateItem(){\n\t\t\t\tthis.formValues['id'] = this.item.id;\n\t\t\t\tthis.formValues['notes'] = this.item.notes;\n\t\t\t\tvar router=this.$router;\n\t\t\t\taxios.post('http://127.0.0.1:8000/motherscnotes/post/' + this.compCateg + '/' + this.formValues.id, this.formValues)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\tif (response.statusText == \"OK\") {\n\t\t\t\t\t\t// Refresh and hide form\n\t\t\t\t\t\tconsole.log(\"Update\");\n\t\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t\tthis.resetFields();\n\t\t\t\t\t\trouter.push(\"/\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"error\");\n\t\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t\talert(\"Error in post\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\taddItem() {\n\t\t\t\tthis.formValues['notes'] = this.item.notes;\n\t\t\t\tvar router = this.$router;\n\t\t\t\taxios.post('http://127.0.0.1:8000/motherscnotes/add/' + this.compCateg + '/', this.formValues)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\tif (response.statusText == \"Created\") {\n\t\t\t\t\t\t// Refresh and hide form\n\t\t\t\t\t\tconsole.log(\"Created\");\n\t\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t\tthis.resetFields();\n\t\t\t\t\t\trouter.push(\"/\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"error\");\n\t\t\t\t\t\tconsole.log(response.data);\n\t\t\t\t\t\talert(\"Error in post\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tresetFields() {\n\t\t\t\treturn {\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetValues(data) {\n\t\t\t\t// console.log(\"Passed to parent\", data);\n\t\t\t\tvar property = data[0];\n\t\t\t\tvar value = data[1];\n\t\t\t\tthis.formValues[property] = value;\n\t\t\t\t// console.log(this.formValues);\n\t\t\t},\n\t\t\tsetInputFields() {\n\t\t\t\tconsole.log(\"Called from update\");\n\t\t\t}\n\t\t}\n\t}\n</script>\n"],"sourceRoot":"src/components"}]}